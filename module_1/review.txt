классы всегда начинаются с заглавной буквы)
код по прежнему грязный, корректность строк в идеале проверять регуляркой) и тогда не будет этих ифов

8 из 10